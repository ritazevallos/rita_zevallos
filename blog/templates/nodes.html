<div class="row">
	<div class="col-md-9 col-md-offset-3">
		<h4>{{title}}</h4>
	</div>
</div>
<div class="row">
	<div class="col-md-3 side_links">
		{% for tag in tags %}
			<div><a class="post_nav" href="{% url nodes_by_tag tag.id%}">{{tag.name}}</a></div>
		{% endfor %}
	</div>
	<div class="col-md-12">

	{% for node in nodes.object_list %}
		{% include '_node.html' with node=node %}
	{% endfor %}

	<div class="pagination">
    <span class="step-links">
        {% if nodes.has_previous %}
            <a id="previous_page_link" href="?page={{ nodes.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ nodes.number }} of {{ nodes.paginator.num_pages }}.
        </span>

        {% if nodes.has_next %}
            <a id="next_page_link" href="?page={{ nodes.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>
	</div>
</div>

<script>
$(function(){
    $('#previous_page_link').click(function(e){
        var curr_url = $('#main').data('url');
        var url = curr_url + "?page={{ nodes.previous_page_number }}";
        $('#main').load(url,function(){
            $('#main').data('url',url);
            document.body.scrollTop = document.documentElement.scrollTop = 0;
        });
        e.preventDefault();
    })

    $('#next_page_link').click(function(e){
        var curr_url = $('#main').data('url');
        var url = curr_url + "?page={{ nodes.next_page_number }}";
        $('#main').load(url,function(){
            $('#main').data('url',url);
            document.body.scrollTop = document.documentElement.scrollTop = 0;
        });
        e.preventDefault();
    })
})
</script>